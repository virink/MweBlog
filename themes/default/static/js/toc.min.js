"use strict";var FirstandthirdToc=function(){function t(t,e){var o=n(t,e);return o.length?o[0]:null}function e(t){return null!=t&&t===t.window}function n(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n instanceof HTMLElement||n instanceof Node||e(n))return[n];if(n instanceof NodeList)return[].slice.call(n);if("string"==typeof n){var i=o?t(o):document;return[].slice.call(i.querySelectorAll(n))}return[]}function o(t,e){if(Array.isArray(t))return t.forEach(function(t){return o(t,e)});var i=n(t);if(i.length){var r=[].concat(e);return i.forEach(function(t){r.forEach(function(e){t.classList.add(e)})}),i}}function i(t,e,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(t))return void t.forEach(function(t){return i(t,e,o,r)});var s={cb:o,capture:r};window._domassistevents||(window._domassistevents={}),window._domassistevents["_"+e]=s;var a=n(t);a.length&&a.forEach(function(t){t.addEventListener(e,o,r)})}function r(t,e,o){if(Array.isArray(t))return t.forEach(function(t){return r(t,e,o)});var i=n(t);return i.length?(i.forEach(function(t){var n=new d(e,o);t.dispatchEvent(n)}),i):void 0}function s(t,e){if(Array.isArray(t))return t.forEach(function(t){return s(t,e)});var o=n(t);if(o.length){var i=[].concat(e);return o.forEach(function(t){i.forEach(function(e){t.classList.remove(e)})}),o}}function a(t,e){Array.isArray(t)&&t.forEach(function(t){return a(t,e)});var o=n(t);o.length&&o.forEach(function(t){Object.keys(e).forEach(function(n){t.style[n]=e[n]})})}function c(e){if(!e)return e=n("[data-toc]"),void e.forEach(function(t){return c(t)});if(e){var o=e.dataset.tocContainer?t(e.dataset.tocContainer)|document.body:document.body,s=e.dataset.toc.split(",").map(function(t){return t.trim()}),a=[],u=e.dataset.tocOffset?parseInt(e.dataset.tocOffset,10):1,l=1;s.forEach(function(t){n(t,o).forEach(function(e){var n=e.id||"toc-"+l++,o=e.dataset.tocTitle?e.dataset.tocTitle.trim():e.textContent.trim(),i=t.replace(/((:+[\w-\d]*)|[^A-z0-9-\s])/g," ").replace(/\s{2,}/g," ").trim(),r="toc-"+i;e.id!==n&&(e.id=n),a.push({index:n,text:o,className:r})})});var d="<ul>",f=[];a.forEach(function(t,e){var n=a[e+1],o={el:".toc-li-"+e,fixed:"true",start:"#"+t.index,position:"top",positionEnd:"top",className:"toc-visible"};d+='\n<li class="toc-li-'+e+" "+t.className+'"><a href="#'+t.index+'">'+t.text+"</a></li>",n&&(o.end="#"+n.index),f.push(o)}),d+="</ul>",e.innerHTML=d;var h=n("li",e),v=n("a",e);b(f),T(v,u),i(document.body,"smoothscroll:start",function(){r(h,"scrolltriggers:pause")}),i(document.body,"smoothscroll:end",function(){r(h,"scrolltriggers:resume"),r(window,"scroll")}),window.location.hash&&v.some(function(e){var n=e.getAttribute("href")===window.location.hash;return n&&setTimeout(function(){var e=t(window.location.hash);e&&k(e,null,u,!0)}),n})}}var u=window.CustomEvent,l=function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n},d=function(){try{var t=new u("t",{detail:{a:"b"}});return"t"===t.type&&"b"===t.detail.a}catch(t){return!1}}()?u:l,f=void 0;f=function(){if(f)return f;var t=window.document.documentElement,e=void 0;return t.scrollTop=1,1===t.scrollTop?(t.scrollTop=0,e=t):e=document.body,f=e,e}();var h=function(t){return function(e){function n(){for(;t.length;){var e=t.shift();"function"==typeof e&&e()}}function o(){document.removeEventListener("DOMContentLoaded",o),n()}t.push(e),setTimeout(function(){if("loading"!==document.readyState)return n()},0),document.addEventListener("DOMContentLoaded",o)}}([]),v=function(t,e){var n={};return Object.keys(e.dataset).forEach(function(o){if(o.match(new RegExp("^"+t))&&o!==t){var i=o.replace(t,""),r=!1;i.match(/^Global/)&&(i=i.replace("Global",""),r=!0),i=""+i[0].toLowerCase()+i.slice(1),n[i]=r?window[e.dataset[o]]:e.dataset[o]}}),n},p=function(t,e,n){var o=void 0;return function(){var i=this,r=arguments,s=function(){o=null,n||t.apply(i,r)},a=n&&!o;clearTimeout(o),o=setTimeout(s,e),a&&t.apply(i,r)}},m=(function(){function t(t){this.value=t}function e(e){function n(t,e){return new Promise(function(n,i){var a={key:t,arg:e,resolve:n,reject:i,next:null};s?s=s.next=a:(r=s=a,o(t,e))})}function o(n,r){try{var s=e[n](r),a=s.value;a instanceof t?Promise.resolve(a.value).then(function(t){o("next",t)},function(t){o("throw",t)}):i(s.done?"return":"normal",s.value)}catch(t){i("throw",t)}}function i(t,e){switch(t){case"return":r.resolve({value:e,done:!0});break;case"throw":r.reject(e);break;default:r.resolve({value:e,done:!1})}r=r.next,r?o(r.key,r.arg):s=null}var r,s;this._invoke=n,"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),w=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),g={In:"scrolltriggers:inView",Out:"scrolltriggers:outOfView",Pause:"scrolltriggers:pause",Resume:"scrolltriggers:resume"},y=function(){function e(t,n){var o=this;m(this,e),t.hasAttribute("data-scroll-init")||(this.added=!1,this.el=t,this.options=n,this.eventHandler=p(this.onScroll.bind(this),10,!0),this.dCalcBounds=p(this.calcBounds.bind(this),10),this.paused=!1,this.disabled=!1,(this.options.image||this.options.srcset||"auto"===this.options.offset)&&(this.options.offset=-1*Math.max((document.documentElement.clientHeight,(window.innerHeight||0)/2))),(this.options.image||this.options.srcset)&&(this.options.once=!0),t.setAttribute("data-scroll-init","true"),this.calcBounds(),window.addEventListener("scroll",this.eventHandler),window.addEventListener("resize",this.dCalcBounds),i(this.el,g.Pause,function(){o.paused=!0}),i(this.el,g.Resume,function(){o.paused=!1}),setTimeout(this.eventHandler,400))}return w(e,[{key:"calcBounds",value:function(){var n=!0===this.options.progress||void 0!==this.options.fixed;if(!this.el.offsetParent&&!n)return void(this.disabled=!0);this.disabled=!1;var o=this.options.position||"bottom";this.startEl=this.options.start?t(this.options.start):this.el,e.checkElement(this.startEl,"start",this.options.start);var i=this.startEl.getBoundingClientRect(),r=e.getScrollY(),s=i.top+r+(this.options.offset||0);if(this.start=e.processPosition(o,s),this.options.end){var a=t(this.options.end),c=a.getBoundingClientRect(),u=c.top+r,l=this.options.positionEnd||"bottom";"auto"===l&&(l="top"),this.end=e.processPosition(l,u),"auto"===this.options.positionEnd&&(this.end-=this.el.offsetHeight),e.checkElement(a,"end",this.options.end)}this.eventHandler()}},{key:"inView",value:function(){var t=this.options,e=t.className,n=t.inView;e&&this.el.classList&&o(this.el,e);var i=this.options.image,s=this.options.srcset;i&&("IMG"===this.el.tagName?this.el.setAttribute("src",i):a(this.el,{backgroundImage:"url("+i+")",backgroundRepeat:"no-repeat"})),s&&this.el.setAttribute("srcset",s),"function"==typeof n&&n(this.el,this.options),r(this.el,g.In,{bubbles:!0,detail:this.options}),this.options.once&&(this.disabled=!0,window.removeEventListener("scroll",this.eventHandler),window.removeEventListener("resize",this.dCalcBounds)),this.added=!0}},{key:"outOfView",value:function(){var t=this.options,e=t.className,n=t.outOfView;e&&this.el.classList&&s(this.el,e),"function"==typeof n&&n(this.el,this.options),r(this.el,g.Out,{bubbles:!0,detail:this.options}),this.added=!1}},{key:"onScroll",value:function(){var t=e.getScrollY();if(!this.paused&&!this.disabled){if(this.options.progress){var n=t/(document.documentElement.scrollHeight-window.innerHeight);this.el.style.width=100*n+"%"}if(t<this.start||this.end&&t>this.end)return void(this.added&&this.outOfView());this.added||this.inView()}}}],[{key:"checkElement",value:function(t,e,n){if(!t)throw new Error(e+" element doesn't match any element with selector: \""+n+'"')}},{key:"getScrollY",value:function(){return window.pageYOffset||document.documentElement.scrollTop}},{key:"processPosition",value:function(t,e){return"top"===t?e:e-="middle"===t?window.innerHeight/2:"bottom"===t?window.innerHeight:window.innerHeight*(parseInt(t,10)/100)}}]),e}(),b=function(t){var e=[];if(t&&Array.isArray(t))t.forEach(function(t){var o=n(t.el);if(null===o)throw new Error("unknown element");o.forEach(function(n){delete t.el,e.push(new y(n,t))})});else{if(t)throw new Error("please convert object to array");n("[data-scroll]").forEach(function(t){var n=v("scroll",t);null!==n.progress&&void 0!==n.progress&&(n.progress=!0),n.className=n.class,n.offset&&(n.offset=parseInt(n.offset,10)),void 0!==n.once&&(n.once=!0),e.push(new y(t,n))})}return e};"complete"!==document.readyState&&document.addEventListener("readystatechange",function(){"complete"===document.readyState&&r(window,"resize")}),h(b),b.Events=g,b.ScrollTrigger=y;var E=function(t,e,n,o){return(t/=o/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},A=function t(e,n,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=(new Date).getTime(),s=o-n,a=s<0;if(0!==s){var c=Math.round(E(r-e,n,s,1e3));if(!a&&c>o&&(c=o),a&&c<o&&(c=o),window.scrollTo(0,c),c===o)return void setTimeout(i);c<0||window.requestAnimationFrame(function(){return t(e,n,o,i)})}},k=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r(t,"smoothscroll:start",{bubbles:!0});var i=t.getBoundingClientRect(),s=window.pageYOffset||document.documentElement.scrollTop,a=Math.round(i.top+s)+n,c=new Date;t.hasAttribute("tabindex")||(t.tabIndex="-1"),o||window.history.pushState(null,"Scroll",e),A(c.getTime(),s,a,function(){r(t,"smoothscroll:end",{bubbles:!0})}),t.focus()},L=function(t,e){t.dataset.smoothActive||(t.dataset.smoothActive=!0,t.addEventListener("click",function(n){var o=t.getAttribute("href");"#"===o[0]&&(n.preventDefault(),k(document.querySelector(o),o,e))}))},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-smooth]",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(window.requestAnimationFrame){var n=t;"string"==typeof t&&(n=document.querySelectorAll(t)),n instanceof Element&&(n=[n]);for(var o=0,i=n.length;o<i;o++){var r=n[o];L(r,e)}}};return window.addEventListener("DOMContentLoaded",function(){T()}),h(c),c}();